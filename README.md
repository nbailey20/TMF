# Trusty Music Fabricator (TMF)
Generate a Spotify playlist by texting a Twilio-owned phone number, based on your current music interests.
Easy AWS-based serverless deployment that is completely pay-as-you-use (besides Spotify account and Twilio number, see their free trial).

## Setup Instructions
1. Create terraform.tfvars file with information needed in variables.tf - AWS account, spotify account, Twilio number, etc
2. Run setup.sh script to detect Terraform issues
3. Run 'terraform apply' to build app in AWS
4. Copy tmf-invoke-url output from terraform apply and add as Messaging Webhook when a message comes in for the Twilio number
5. Text your Trusty Music Fabricator to say hi, and enjoy :)  - expect a few mins delay to keep AWS cost at a minimum
6. Terraform destroy to get rid of everything in AWS if you want to 'uninstall', don't forget to release Twilio number!

## Current Version: 0.1.0
Deployment into AWS and integration with Twilio webhook is working. Initial playlist is created with name "Trusty Music Fabricator" with correct number of songs, however reported failures after several generations.

## Usage Instructions
- In general, texting anything will refresh the TMF playlist
- Refreshing means - adding enough new songs to the playlist to reach the desired number, and replacing any 'neutral' songs that have been listened to a variable number of times (neutral_song_refresh_rate).
- Songs will be generated by randomly combining 1-3 songs in a user's Spotify current top tracks as seeds for a new song generation